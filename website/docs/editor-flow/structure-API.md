## Structure API

#### Basic app structure
After you bootstraped the app via create-yoshi-app, the structure will be similar to:
```
my-app
├── .application.json
├── package.json
└── src
    ├── viewer.app.ts
    ├── editor.app.ts
    ├── assets
    │   └── locales
    └── components
        └── MyComponent
            ├── .component.json
            ├── controller.ts
            ├── controller.spec.ts
            ├── Widget
            │   ├── index.ts
            │   ├── Widget.tsx
            │   ├── Widget.spec.ts
            │   ├── Widget.e2e.ts
            │   └── Widget.st.css
            └── Settings
                ├── index.ts
                ├── Settings.tsx
                ├── Settings.spec.ts
                ├── Settings.e2e.ts
                └── Settings.scss
```

#### `.application.json`
Each app should contain `.application.json`. It's content will be auto-generated by `create-yoshi-app`.
It will be:
```
{
  appDefinitionId: 'YOUR_APP_DEFINITION_ID'
}
```
To use app configration values in runtime it's valid to:
```ts
import { appDefinitionId } from '../../.application.json';
```


### Application level
Under `src` directory located: `viewer.app.ts`, `editor.app.ts`, `assets` and `components`.
#### `viewer.app.ts`
Entry point for Viewer Script file.

##### `initAppForPage`
A general call to the service where it should initiate its reusable data across components.
It's called with the basic configuration of the application before the Viewer knows which components exist on the page.

⚠️ You shouldn't use `createControllers`. We will generate it under the hood.

*viewer.app.ts*
```ts
export const initAppForPage = (initParams, platformApis, wixCodeApi, platformServicesApis) => {
  fetchExperiments();
  initStorage();
};
```

For more info related to `initAppForPage` check the [Viewer platform official docs](https://bo.wix.com/wix-docs/client/client-viewer-platform/articles/lifecycle#client-viewer-platform_articles_lifecycle_initappforpage)

### `editor.app.ts`
Entry point for Editor Script file.

*editor.app.ts*
```ts
export const editorReady = async (editorSDK, appDefinitionId, { origin, firstInstall }) => {
  const platform = new AppPlatform(editorSDK, appDefinitionId);

  if (firstInstall) {
    await platform.install();
  } else {
    await platform.hackForTemplates();
  }
};

export const getAppManifest = async () => {
  return getManifest();
};
```

For more info about editor platform script, please check [Editor Platform offical docs](https://bo.wix.com/wix-docs/client/editor-platform/editor-application-reference/editor-platform-app)